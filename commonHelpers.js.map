{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst searchInput = document.querySelector('.input-name');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\nlet galleryLightbox;\n\nform.addEventListener('submit', getPhoto);\n\nfunction getPhoto(event) {\n  event.preventDefault();\n\n  const searchQuery = searchInput.value.trim();\n\n  if (searchQuery === '') {\n    showErrorToast('Please enter a search query');\n    return;\n  }\n\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const API_KEY = '42310325-d8e2b88bd4f4d7db9639050a5';\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n\n  loader.classList.add('visible');\n\n  fetch(url)\n    .then(response => response.json())\n    .then(data => {\n      renderPhotos(data.hits);\n    })\n    .catch(error => {\n      console.error('Error fetching data:', error);\n      showErrorToast('Error fetching data. Please try again later.');\n    })\n    .finally(() => {\n      loader.classList.remove('visible');\n    });\n}\n\nfunction makeMarkup(photo) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = photo;\n\n  return `\n    <li class=\"photo\">\n      <div class=\"photo-card\">\n        <a class=\"image-link\" data-lightbox=\"image\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" data-source=\"${largeImageURL}\" src=\"${webformatURL}\" alt=\"${tags}\">\n        </a>\n      </div>\n      <div class=\"description\">\n        <p class=\"description-item\"> Likes ${likes}</p>\n        <p class=\"description-item\"> Views ${views}</p>\n        <p class=\"description-item\"> Comments ${comments}</p>\n        <p class=\"description-item\"> Downloads ${downloads}</p>\n      </div>\n    </li>`;\n}\n\nfunction renderPhotos(photos) {\n  gallery.innerHTML = '';\n\n  if (photos.length === 0) {\n    showErrorToast('Sorry, there are no images matching your search query. Please try again!');\n    return;\n  }\n\n  photos.forEach(photo => {\n    const photoElement = makeMarkup(photo);\n    gallery.insertAdjacentHTML('beforeend', photoElement);\n  });\n\n  if (!galleryLightbox) {\n    galleryLightbox = new SimpleLightbox('.image-link', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    galleryLightbox.refresh();\n  }\n}\n\nfunction showErrorToast(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    backgroundColor: 'red',\n    messageColor: 'white',\n    messageSize: '25',\n  });\n}\n"],"names":["form","searchInput","loader","gallery","galleryLightbox","getPhoto","event","searchQuery","showErrorToast","BASE_URL","END_POINT","API_KEY","params","url","response","data","renderPhotos","error","makeMarkup","photo","webformatURL","largeImageURL","tags","likes","views","comments","downloads","photos","photoElement","SimpleLightbox","message","iziToast"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EAEJJ,EAAK,iBAAiB,SAAUK,CAAQ,EAExC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EAEpB,MAAMC,EAAcN,EAAY,MAAM,KAAI,EAE1C,GAAIM,IAAgB,GAAI,CACtBC,EAAe,6BAA6B,EAC5C,MACD,CAED,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAU,qCACVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGJ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKM,EAAM,GAAGJ,CAAQ,GAAGC,CAAS,IAAIE,CAAM,GAE7CV,EAAO,UAAU,IAAI,SAAS,EAE9B,MAAMW,CAAG,EACN,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZC,EAAaD,EAAK,IAAI,CAC5B,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CT,EAAe,8CAA8C,CACnE,CAAK,EACA,QAAQ,IAAM,CACbN,EAAO,UAAU,OAAO,SAAS,CACvC,CAAK,CACL,CAEA,SAASgB,EAAWC,EAAO,CACzB,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA;AAAA;AAAA,4DAGmDE,CAAa;AAAA,oDACrBA,CAAa,UAAUD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,6CAIxDC,CAAK;AAAA,6CACLC,CAAK;AAAA,gDACFC,CAAQ;AAAA,iDACPC,CAAS;AAAA;AAAA,UAG1D,CAEA,SAASV,EAAaW,EAAQ,CAG5B,GAFAxB,EAAQ,UAAY,GAEhBwB,EAAO,SAAW,EAAG,CACvBnB,EAAe,0EAA0E,EACzF,MACD,CAEDmB,EAAO,QAAQR,GAAS,CACtB,MAAMS,EAAeV,EAAWC,CAAK,EACrChB,EAAQ,mBAAmB,YAAayB,CAAY,CACxD,CAAG,EAEIxB,EAMHA,EAAgB,QAAO,EALvBA,EAAkB,IAAIyB,EAAe,cAAe,CAClD,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CAEA,SAASrB,EAAesB,EAAS,CAC/BC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,gBAAiB,MACjB,aAAc,QACd,YAAa,IACjB,CAAG,CACH"}